drop database projetoJDBC;

create database projetoJDBC;

use projetoJDBC;

create table conta (
	ID int primary key auto_increment,
    nome varchar(200) not null,
    telefone varchar(200) not null,
    e_mail varchar(200) not null,
    cpf varchar(20) unique not null,
    endereco varchar(200),
    login varchar(200),
    senha varchar(200),
    tipo_conta varchar(200),
    data_registro date,
    salario_funcionario float,
    inicio_expediente_funcionario time,
    fim_expediente_funcionario time,
    mensalidade_cliente float
);

create table equipamento (
	ID int primary key auto_increment,
    nome varchar(200) not null,
    tipo varchar(100) not null,
    status_equipamento boolean not null,
    conta_criador int,
    data_registro date,
    foreign key (conta_criador) references conta(ID)
);

create table modificacoes (
	data_modificacao date not null,
    campo_modificado varchar(200) not null,
    conta_modificador int,
    equipamento_modificado int,
    foreign key (conta_modificador) references conta(ID),
    foreign key (equipamento_modificado) references equipamento(ID)
);

create table treino (
	ID int primary key auto_increment,
    nome varchar(200) not null,
    duracao time not null,
    descricao varchar(200),     
    conta_cliente int,
    foreign key (conta_cliente) references conta(ID)
);

create table reservas (
    id int primary key auto_increment
	data_reserva date not null,
    tempo_de_uso time not null,
    status int,
    conta_cliente int,
    equipamento int,
    foreign key (conta_cliente) references conta(ID),
    foreign key (equipamento) references equipamento(ID)
);

create table uso_de_equipamento (
	tempo_de_uso time not null,
    treino int,
    equipamento int,
    foreign key (treino) references treino(ID),
    foreign key (equipamento) references equipamento(ID)
);
